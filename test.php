<?php
include "database.php";

$pic = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAHgCAYAAAA10dzkAAAKIElEQVR4nO3WsQ3bQBQFQRXnEtx/7irs2A4sENS9FYEJJqIO2vsSeXy9fr5+/+XXj//79/PvvFv/7vu+3af3f3W+63l++vc/3X93nqf/7+u+u/Nfz+Pq9fV86/6r608/H4Dn+LoD4GlOHxCfPsBP7/fu/ure+oWgVt//d6+v51v3X11/+vkAPMfXHQBPc/qA+PQBfnq/d/dX99YvBLX6/r97fT3fuv/q+tPPB+A5vu4AeJrTB8SnD/DT+727v7q3fiGo1ff/3evr+db9V9effj4Az5EHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAALCVBwAAsJUHAACwlQcAADD1B3tCJOUST7iZAAAAAElFTkSuQmCC";
$filter = "img1.png";


$b64 = substr($pic, strpos($pic, ',') + 1);
$image = base64_decode($b64);
$image_url = "montages/test.png";
file_put_contents($image_url, $image);


	$img1 = imagecreatefrompng("images/$filter");
	imagealphablending($img1, true);
	imagesavealpha($img1, true);
	$dest = imagecreatefrompng($image_url);
	
	if (imagecopy($dest, $img1, 0, 0, 0, 0, 640, 480))
		echo "yaye\n";
	imagepng($dest, $image_url);


?>
